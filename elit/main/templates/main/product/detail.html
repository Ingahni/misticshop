{% extends "main/base.html" %}
{% load static %}

{% block title %}
    {{ product.name }}
{% endblock title %}

{% block content %}
    <div class="detail_product d-flex">
        <div class="detail-img">
            <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/noimage.jpg' %}{% endif %}" alt="" class="detail-image">
        </div>
        <div class="detail-description">
            <h2>{{ product.name }}</h2>
            <h3>Category: {{ product.category }}</h3>
            <p>Description: {{ product.description|linebreaks }}</p>
            {% if product.discount %}
                <div class="cart-discount d-flex gap-2"> 
                    <p class="line">$ {{ product.price }}</p>
                    <p>$ {{ product.sell_price }}</p>
                </div>
            {% else %}
                <p class="price">$ {{ product.price }}</p>
            {% endif %}
            <form action="{% url 'cart:cart_add' product.id %}" method="POST" class="qform">
                <div class="cart-form">
                    {{ cart_product_form}}
                    {% csrf_token %} 
                </div>
                <input type="submit" value="Add to cart" class="add-to-cart-btn ">
            </form>
        </div>
    </div>
{% endblock content %}

{% comment %} –¶–µ–π —à–∞–±–ª–æ–Ω –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ç–æ–≤–∞—Ä—É —É Django. –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –Ω–∞–∑–≤—É, –∫–∞—Ç–µ–≥–æ—Ä—ñ—é, –æ–ø–∏—Å, —Ü—ñ–Ω—É (–≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –∑–Ω–∏–∂–∫—É) —ñ —Ñ–æ—Ä–º—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–æ—à–∏–∫–∞.  {% endcomment %}

{% comment %} –ü—Ä–æ–±–ª–µ–º–∞/–ü–æ—Ç–µ–Ω—Ü—ñ–∞–ª	–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è
‚ùó class="detail_product"	–í–∏–ø—Ä–∞–≤: CSS-–∫–ª–∞—Å–∏ –º–∞—é—Ç—å –±—É—Ç–∏ —á–µ—Ä–µ–∑ - ‚Äî –∫—Ä–∞—â–µ detail-product
üîÅ product.category	–ú–æ–∂–Ω–∞ –≤–∏–≤–µ—Å—Ç–∏ product.category.name, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î ForeignKey
‚úÖ –î–æ–¥–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ	–í–∏–≤–æ–¥–∏—Ç–∏ product.stock —á–∏ available (—è–∫—â–æ —î —Ç–∞–∫–∞ –º–æ–¥–µ–ª—å–Ω–∞ –ª–æ–≥—ñ–∫–∞)
‚öôÔ∏è –ó—Ä–æ–±–∏—Ç–∏ –∫–Ω–æ–ø–∫—É disabled	–Ø–∫—â–æ —Ç–æ–≤–∞—Ä –≤—ñ–¥—Å—É—Ç–Ω—ñ–π (—á–µ—Ä–µ–∑ if product.available) {% endcomment %}